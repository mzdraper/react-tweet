'use strict';

const addDeployEnv = require('../add-deploy-env');
const addMapboxAssemblyCss = require('../add-mapbox-assembly-css');
const addSvgReactTransformer = require('../add-svg-react-transformer');

describe('missing dependency errors', () => {
  test('addDeployEnv throws if webpack is not installed', () => {
    expect(() => {
      addDeployEnv({});
    }).toThrow(/must install webpack/);
  });

  test('addMapboxAssemblyCss throws if @mapbox/mbx-assembly is not installed', () => {
    expect(() => {
      addMapboxAssemblyCss({});
    }).toThrow(/must install @mapbox\/mbx-assembly/);
  });

  test('addSvgReactTransformer throws if @mapbox/svg-react-transformer is not installed', () => {
    expect(() => {
      addSvgReactTransformer({});
    }).toThrow(/must install @mapbox\/svg-react-transformer/);
  });
});
